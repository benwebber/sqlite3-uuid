language: python

matrix:
  allow_failures:
    - os: osx
  include:
    - os: linux
      language: python
    - os: osx
      language: generic

addons:
  apt:
    packages:
      - gcc
      - libssl-dev
      - libsqlite3-dev
      - uuid-dev

before_install:
  - if [[ $TRAVIS_OS_NAME == 'osx' ]]; then brew update; fi
  - if [[ $TRAVIS_OS_NAME == 'osx' ]]; then brew install python; fi
  - if [[ $TRAVIS_OS_NAME == 'osx' ]]; then virtualenv venv; fi
  - if [[ $TRAVIS_OS_NAME == 'osx' ]]; then . ./venv/bin/activate; fi

install:
  - if [[ $TRAVIS_OS_NAME == 'osx' ]]; then pip install -r requirements.txt; fi

script: make test

notifications:
  email: false
